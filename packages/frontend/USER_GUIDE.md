# 📖 用户操作指南

## 🚀 快速开始

### 第一步：连接钱包

1. **确保已安装 MetaMask**
   - 如果还没有安装，请访问 [MetaMask 官网](https://metamask.io/) 下载并安装
   - 创建或导入钱包账户

2. **连接钱包**
   - 在页面顶部找到"钱包连接"卡片
   - 点击"连接钱包"按钮
   - 在 MetaMask 弹窗中确认连接
   - 等待 FHEVM 初始化完成（或点击"跳过"按钮）

### 第二步：设置合约地址

1. **获取合约地址**
   - 如果您已经部署了拍卖合约，复制合约地址
   - 如果还没有部署，需要先部署合约（见下方"部署合约"部分）

2. **输入合约地址**
   - 在"合约地址配置"卡片中
   - 粘贴合约地址到输入框
   - 点击"设置"按钮

### 第三步：开始使用

现在您可以：
- 查看统计仪表板
- 创建新拍卖
- 浏览所有拍卖
- 参与竞标

---

## 📋 详细功能说明

### 1. 统计仪表板

显示系统整体数据：
- **总拍卖数**：系统中所有拍卖的总数
- **进行中**：当前正在进行的拍卖数量
- **已结束**：已经结束但未结算的拍卖数量
- **总出价数**：所有拍卖的出价总数
- **我的拍卖**：您创建的拍卖数量
- **我的出价**：您参与的拍卖数量

点击"刷新"按钮可以更新数据。

### 2. 创建拍卖

1. 在"创建新拍卖"卡片中填写信息：
   - **物品名称**：例如"限量版 NFT"、"数字艺术品"等
   - **物品描述**：详细描述拍卖物品
   - **拍卖时长**：以秒为单位
     - 3600 = 1小时
     - 86400 = 1天
     - 604800 = 1周

2. 点击"创建拍卖"按钮
3. 在 MetaMask 中确认交易
4. 等待交易确认

### 3. 浏览拍卖

使用顶部的标签页切换视图：

#### 全部拍卖
- 显示所有拍卖
- 使用搜索框搜索特定物品
- 使用下拉菜单筛选状态（全部/进行中/已结束/已结算）

#### 我的拍卖
- 只显示您创建的拍卖
- 可以管理您自己的拍卖

#### 我的出价
- 显示您参与出价的所有拍卖
- 快速查看您的竞标历史

### 4. 参与竞标

1. 在拍卖卡片中找到"出价金额"输入框
2. 输入您的出价金额
3. 点击"提交加密出价"按钮
4. 在 MetaMask 中确认交易
5. 等待交易确认

**注意**：出价会被加密后存储在链上，在拍卖结束前不会泄露。

### 5. 查看拍卖详情

1. 点击任意拍卖卡片底部的"查看详情"按钮
2. 查看完整信息：
   - 拍卖创建者
   - 物品描述
   - 结束时间
   - 所有出价历史
   - 最高出价者（如果已结束）

### 6. 结束拍卖

如果拍卖时间已到：
1. 拍卖创建者可以点击"结束拍卖"按钮
2. 系统会自动比较所有加密出价
3. 确定最高出价者
4. 拍卖状态变为"已结束"

---

## ⚠️ 重要提示

### 当前限制

1. **FHEVM 占位符模式**
   - 当前使用的是 FHEVM 占位符实现
   - 实际的加密/解密功能需要正确的 `@fhenixprotocol/fhevmjs` 包
   - 出价会被模拟加密，但不会真正加密

2. **需要部署合约**
   - 在使用前需要先部署拍卖合约
   - 合约部署需要测试网 ETH（如 Sepolia）

3. **网络要求**
   - 确保 MetaMask 连接到正确的网络
   - 推荐使用 Sepolia 测试网

---

## 🔧 部署合约（开发者）

如果您需要部署合约：

```bash
# 进入合约目录
cd packages/contracts

# 安装依赖
npm install

# 编译合约
npm run compile

# 部署到 Sepolia 测试网
npm run deploy:sepolia
```

部署成功后，复制合约地址到前端界面。

---

## ❓ 常见问题

### Q: 为什么一直显示"正在初始化 FHEVM..."？
A: 点击"跳过（演示模式）"按钮可以继续使用。这是占位符模式的正常情况。

### Q: 如何获取测试网 ETH？
A: 可以使用 Sepolia 测试网水龙头：
- [Alchemy Sepolia Faucet](https://sepoliafaucet.com/)
- [Infura Sepolia Faucet](https://www.infura.io/faucet/sepolia)

### Q: 出价真的被加密了吗？
A: 在当前占位符模式下，出价是模拟加密的。要使用真正的加密功能，需要安装正确的 FHEVM 包。

### Q: 如何查看我的出价历史？
A: 切换到"我的出价"标签页，可以查看所有您参与的拍卖。

---

## 📞 需要帮助？

如果遇到问题：
1. 检查浏览器控制台是否有错误信息
2. 确认 MetaMask 已正确连接
3. 确认合约地址是否正确
4. 检查网络连接是否正常




